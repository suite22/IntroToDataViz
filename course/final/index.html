<html>
<head>
</head>
<style>
    body {
      font: 10px sans-serif;
    }

</style>
<body>

    <div id="chart">
    </div>

    <!-- Include d3.js -->
    <script src="http://d3js.org/d3.v3.js" charset="utf-8"></script>
    <script src="http://d3js.org/topojson.v1.min.js"></script>
    <script src="js/datamaps.usa.min.js"></script>

    <div id="container" style="position: relative; width: 1000px; height: 800px;"></div>
        <script>
            var cities = [];

            var map = new Datamap({
                element: document.getElementById('container'),
                scope: 'usa'
            });

            var jsonCities = d3.json("data/cities.json", function(cityData) {
                //debugger;

                citiesD3 = cityData.map( function(row) {
                    //debugger;
                
                    return {
                        latitude: row.la,
                        longitude: row.lo,
                        city: row.ci,
                        radius: 1
                    }
                })

                map.bubbles(citiesD3, {
                    popupTemplate: function (geo, data) {
                        return ['<div class="hoverinfo">' + data.city,
                        '</div>'].join('');
                    }
                })

                //console.log(cityData)
                //debugger;
            })

            // var cities = [{
            //     radius: 2, id:1378420, city:"A B C Creek", state:"TX", latitude:33.0406548, longitude: -100.5626130
            // }]

            // draw bubbles for bombs
            
        </script>

</body>
